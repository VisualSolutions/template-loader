(()=>{"use strict";var e,t,n,o,a,i,s,r,p,c={327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;t.Message=function(e,t,n){this.id=e,this.messageType=t,this.payload=n,this.replyPassThroughData={}}},442:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerCommunicator=void 0;var o=n(327),a=function(e,t){this.resolve=e,this.reject=t},i=function(e,t){this.messageType=e,this.onMessage=t},s=function(){function e(e){this.messageSender=e,this.pendingPromises=new Map,this.subscribers=new Array,this.messageIdGenerator=1}return e.prototype.sendMessage=function(e,t){var n=this,i=this.messageIdGenerator++;return new Promise((function(s,r){n.pendingPromises.set(i,new a(s,r)),n.messageSender(new o.Message(i,e,t))}))},e.prototype.subscribe=function(e,t){var n=this,o=new i(e,t);return this.subscribers.push(o),{unsubscribe:function(){var e=n.subscribers.indexOf(o);-1!==e&&n.subscribers.splice(e,1)}}},e.prototype.onMessageReceived=function(e){if("REQUEST_ACKNOWLEDGE"!==e.messageType)if("REQUEST_RESPONSE"!==e.messageType)this.sendMessage("REQUEST_ACKNOWLEDGE",{requestMessageId:e.id}),this.subscribers.filter((function(t){return t.messageType===e.messageType})).forEach((function(t){t.onMessage(e)}));else{var t=this.pendingPromises.get(e.payload.requestMessageId);t&&(this.pendingPromises.delete(e.payload.requestMessageId),e.payload.error?t.reject(e.payload.error):t.resolve(e.payload.response))}},e}();t.PlayerCommunicator=s},170:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPlayer=void 0;var n=function(){function e(){}return e.prototype.mediaFinished=function(e){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaFinished",playId:e},"*")},e.prototype.mediaError=function(e,t){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaError",playId:e,message:t},"*")},e.prototype.mediaReady=function(e,t){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaReady",playId:e,started:t},"*")},e.prototype.getParameter=function(e){return null},e.prototype.openMediaInZone=function(e,t,n){},e.prototype.executeCommand=function(e,t,n){},e.prototype.addPlaybackListener=function(e,t){},e}();t.PreviewPlayer=n},910:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemotePlayer=void 0;var n=function(){function e(e){this.sendMessageFunction=e}return e.prototype.executeCommandImpl=function(e,t,n){var o;if("string"==typeof n)try{o=JSON.parse(n)}catch(e){o=n}else o=n;this.sendMessageFunction({playId:e,type:t,params:o})},e.prototype.getParameter=function(e){return null},e.prototype.mediaFinished=function(e){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_FINISHED"})},e.prototype.mediaError=function(e,t){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_ERROR",message:t})},e.prototype.mediaReady=function(e,t){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_READY"})},e.prototype.openMediaInZone=function(e,t,n){this.executeCommandImpl(e,"MEDIA_PLAY",{mediaId:t,zoneId:n})},e.prototype.executeCommand=function(e,t,n){this.executeCommandImpl(e,t,n)},e.prototype.addPlaybackListener=function(e,t){this.executeCommandImpl(e,"NOTIFICATIONS_REGISTRATION",{notificationType:"MEDIA_PLAYBACK",callbackMethod:t})},e}();t.RemotePlayer=n}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return c[e](n,n.exports,u),n.exports}e=u(170),t=u(910),n=u(442),o=function(){function e(){}return e.DurationAuto=-1,e}(),a=function(){function e(){}return e.OpenMediaInZone="openMediaInZone",e.PlaybackActionInZone="playbackActionInZone",e.PlaylistDataRequest="playlistDataRequest",e.VotingPlaylistRequest="votingPlaylistRequest",e.RegisterNotifications="registerNotifications",e.CreateCustomZone="createCustomZone",e.DeleteCustomZone="deleteCustomZone",e.ClosePlaybackApp="closePlaybackApp",e.OpenHomeApp="openHomeApp",e.OpenVodApp="openVodApp",e.OpenDiagnosticsApp="openDiagnosticsApp",e.OpenSettingsApp="openSettingsApp",e.OpenApp="openApp",e.SendChannelMessage="sendChannelMessage",e.JoinChannel="joinChannel",e.SendSerialMessage="sendSerialMessage",e.ReceiveSerialMessages="receiveSerialMessages",e.GetNewAnalyticsSessionId="getNewAnalyticsSessionId",e.CreateAnalyticsLog="createAnalyticsLog",e.IsMediaFileAvailable="isMediaFileAvailable",e}(),i=function(e,t,n){this.name=e,this.type=t,this.value=n},s=function(){function e(e,t,n){this.name=e,this.type=t,this.params=n}return e.CreateTypelessComponent=function(e,t){return new this(e,null,t)},e}(),r=function(e,t){this.type=e,this.value=t},p=function(){function p(){var a=this;this.globalCallbackMethodNameCounter=0,this.dataJson=this.getParameterByName("data"),this.playId=parseInt(this.getParameterByName("playId")),this.platformType=this.getParameterByName("platformType"),this.duration=parseInt(this.getParameterByName("duration")),isNaN(this.duration)&&(this.duration=o.DurationAuto),this.started="false"!==String(this.getParameterByName("autoPlay")).toLowerCase(),window.Player||("string"==typeof this.platformType&&this.platformType.includes("Cloud")?window.Player=new t.RemotePlayer((function(e){window.parent.postMessage({channel:"MvisionPlayerApi",payload:e},"*")})):(window.Player=new e.PreviewPlayer,window.addEventListener("message",(function(e){e&&e.data&&e.data.action&&"play"===e.data.action&&a.play()}))));var i=new n.PlayerCommunicator((function(e){return a.executeCommand("COMMUNICATOR_MESSAGE",e)}));window.messageFromPlayer=function(e){i.onMessageReceived(e)},this.communicator=i,this.startPromise=new Promise((function(e,t){a.startPromiseResolve=e})),this.started&&this.startPromiseResolve(),this.componentsPromise=new Promise((function(e,t){a.componentsPromiseResolve=e})),this.getDataJson()}return p.prototype.getNextGlobalCallbackMethodName=function(){return this.globalCallbackMethodNameCounter=this.globalCallbackMethodNameCounter+1,"mvisionGlobalCallbackMethodName"+this.globalCallbackMethodNameCounter},p.prototype.setComponents=function(e){var t=this;this.componentsPromise=new Promise((function(n,o){t.componentsPromiseResolve=n,t.componentsPromiseResolve(e)}))},p.prototype.getComponents=function(){return this.componentsPromise},p.prototype.getCommunicator=function(){return this.communicator},p.prototype.isStarted=function(){return this.startPromise},p.prototype.getPlatformType=function(){return this.platformType},p.prototype.getDuration=function(){return this.duration},p.prototype.ifDurationNotSetEndIn=function(e){this.duration==o.DurationAuto&&setTimeout(this.finished,1e3*e)},p.prototype.ready=function(){window.Player.mediaReady(this.playId,this.started)},p.prototype.error=function(e){e||(e="Unspecified error."),window.Player.mediaError(this.playId,e)},p.prototype.finished=function(){window.Player.mediaFinished(this.playId)},p.prototype.getPlayerParameter=function(e){try{return window.Player.getParameter(e)}catch(e){}return null},p.prototype.getPlayerParameters=function(e){return this.executeCommandReturnPromise("GET_SITE_PARAMETERS",{keys:e})},p.prototype.openMediaInZone=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=null);try{n||o?this.executeCommand(a.OpenMediaInZone,{mediaId:e,zoneId:t,loop:n,startMode:o}):window.Player.openMediaInZone(this.playId,e,t)}catch(e){}},p.prototype.stopPlaybackInZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"STOP",zoneId:e})},p.prototype.resumeLoopPlaybackInZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"RESUME_LOOP_PLAYBACK",zoneId:e})},p.prototype.clearPendingEventsInZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"CLEAR_PENDING_EVENTS",zoneId:e})},p.prototype.playNextInZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"PLAY_NEXT",zoneId:e})},p.prototype.createCustomZone=function(e,t,n,o,i,s,r,p){void 0===r&&(r=!1),void 0===p&&(p=null),this.executeCommand(a.CreateCustomZone,{zoneName:e,coordinates:{left:t,top:n,width:o,height:i},behind:r,persistent:s,loopingPlaylistItemId:p})},p.prototype.deleteCustomZone=function(e){this.executeCommand(a.DeleteCustomZone,{zoneName:e})},p.prototype.openMediaInCustomZone=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=null),this.executeCommand(a.OpenMediaInZone,{mediaId:e,zoneName:t,loop:n,startMode:o})},p.prototype.stopPlaybackInCustomZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"STOP",zoneName:e})},p.prototype.resumeLoopPlaybackInCustomZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"RESUME_LOOP_PLAYBACK",zoneName:e})},p.prototype.clearPendingEventsInCustomZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"CLEAR_PENDING_EVENTS",zoneName:e})},p.prototype.playNextInCustomZone=function(e){this.executeCommand(a.PlaybackActionInZone,{type:"PLAY_NEXT",zoneName:e})},p.prototype.closePlaybackApp=function(){this.executeCommand(a.ClosePlaybackApp,{})},p.prototype.openHomeApp=function(){this.executeCommand(a.OpenHomeApp,{})},p.prototype.openVodApp=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.executeCommand(a.OpenVodApp,{initialFolderIdentifier:e,allowUpNavigationFromInitialFolder:t})},p.prototype.openDiagnosticsApp=function(){this.executeCommand(a.OpenDiagnosticsApp,{})},p.prototype.openSettingsApp=function(e){void 0===e&&(e={}),this.executeCommand(a.OpenSettingsApp,e)},p.prototype.openApp=function(e){this.executeCommand(a.OpenApp,{appId:e})},p.prototype.getMusicStreamTracks=function(e){this.executeCommand(a.PlaylistDataRequest,{dataType:"MUSIC_TRACKS_LIST",responseCallbackMethod:e.name})},p.prototype.getActiveMusicPlaylistDataAndTracks=function(e){this.executeCommand(a.PlaylistDataRequest,{dataType:"ACTIVE_MUSIC_PLAYLIST_DATA_AND_TRACKS",responseCallbackMethod:e.name})},p.prototype.getActiveMusicPlaylistData=function(e){this.executeCommand(a.PlaylistDataRequest,{dataType:"ACTIVE_MUSIC_PLAYLIST_DATA",responseCallbackMethod:e.name})},p.prototype.getPlaylistContainerItems=function(e,t){this.executeCommand(a.PlaylistDataRequest,{dataType:"PLAYLIST_CONTAINER_ITEMS",referenceItem:e,responseCallbackMethod:t.name})},p.prototype.voteMusicTrack=function(e){this.executeCommand(a.VotingPlaylistRequest,{action:"VOTE",referenceItem:e})},p.prototype.getVotedTracks=function(e){this.executeCommand(a.VotingPlaylistRequest,{action:"GET_VOTED_ITEMS",responseCallbackMethod:e.name})},p.prototype.addPlaybackListener=function(e){try{window.Player.addPlaybackListener(this.playId,e.name)}catch(e){console.log("Error while calling Player method: "+e)}},p.prototype.addPlaylistUpdateListener=function(e){this.executeCommand(a.RegisterNotifications,{notificationType:"PLAYBACK_STREAM_UPDATED",callbackMethod:e.name})},p.prototype.addActiveMusicPlaylistChangeListener=function(e){this.executeCommand(a.RegisterNotifications,{notificationType:"ACTIVE_MUSIC_PLAYLIST_CHANGED",callbackMethod:e.name})},p.prototype.sendChannelMessage=function(e,t,n){this.executeCommand(a.SendChannelMessage,{clientId:e,channelName:t,payload:n})},p.prototype.joinChannel=function(e,t,n){this.executeCommand(a.JoinChannel,{clientId:e,channelName:t,callbackMethod:n.name})},p.prototype.sendSerialMessageToConnectedDevice=function(e,t,n,o){return void 0===o&&(o=!1),this.sendSerialMessageToTargetDevice(null,e,t,n,o)},p.prototype.sendSerialMessageToTargetDevice=function(e,t,n,o,i){return void 0===i&&(i=!1),this.executeCommandReturnPromise(a.SendSerialMessage,{serialMessageRequest:{targetProductId:e,baudRate:t,dataType:n,data:o,ignoreResponse:i}})},p.prototype.receiveSerialMessagesFromConnectedDevice=function(e,t,n,o,a){this.receiveSerialMessagesFromTargetDevice(null,e,t,n,o,a)},p.prototype.receiveSerialMessagesFromTargetDevice=function(e,t,n,o,i,s){this.executeCommand(a.ReceiveSerialMessages,{serialMessageRequest:{targetProductId:e,baudRate:t,dataType:n},retryOnError:o,callbackMethod:i.name,errorCallbackMethod:s.name})},p.prototype.getNewAnalyticsSessionId=function(){return this.executeCommand(a.GetNewAnalyticsSessionId,null)},p.prototype.getNewAnalyticsSessionIdPromise=function(){return this.executeCommandReturnPromise("GET_NEW_ANALYTICS_SESSION_ID_PROMISE",{})},p.prototype.createAnalyticsEvent=function(e,t,n){this.executeCommand(a.CreateAnalyticsLog,{userTriggered:e,sessionId:t,customParameters:n})},p.prototype.isMediaFileAvailable=function(e){return"true"==this.executeCommand(a.IsMediaFileAvailable,e)},p.prototype.areMediaFilesAvailable=function(e){return this.executeCommandReturnPromise("ARE_MEDIA_FILES_AVAILABLE",{mediaIds:e})},p.prototype.sendDatagramMessage=function(e,t,n,o){return this.executeCommandReturnPromise("DATAGRAM_SEND",{targetAddress:e,port:t,dataType:n,message:o})},p.prototype.receiveDatagramMessages=function(e,t,n,o,a){this.executeCommand("DATAGRAM_RECEIVE",{multicastAddress:e,port:t,dataType:n,callbackMethod:o.name,errorCallbackMethod:a.name})},p.prototype.setPlaylistItemsSchedules=function(e){this.executeCommand("SET_PLAYLIST_ITEMS_SCHEDULES",e)},p.prototype.executeCommand=function(e,t){try{return window.Player.executeCommand(this.playId,e,JSON.stringify(t))}catch(e){return console.log("Error while calling Player method: "+e),null}},p.prototype.executeCommandReturnPromise=function(e,t){var n=this.getNextGlobalCallbackMethodName(),o=this.getNextGlobalCallbackMethodName(),a=this.playId;return new Promise((function(i,s){var r=function(){delete window[n],delete window[o]};window[n]=function(e){r(),i(e)},window[o]=function(e){r(),s(new Error(e))},t.callbackMethod=n,t.errorCallbackMethod=o;try{window.Player.executeCommand(a,e,JSON.stringify(t))}catch(e){r(),s(e)}}))},p.prototype.play=function(){this.started||(this.started=!0,this.startPromiseResolve())},p.prototype.getParameterByName=function(e,t){void 0===t&&(t=window.location.href),t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},p.prototype.getDataJson=function(){var e=this,t=this.dataJson;t||(t="mframe.json?timestamp="+(new Date).getTime());var n=new XMLHttpRequest;n.onreadystatechange=function(){if("tizen"===e.platformType){if(4===n.readyState&&(200===n.status||0===n.status))if(null!==n.responseText){try{var o=JSON.parse(n.responseText);a=[],o.components.forEach((function(e){"number"==typeof e.type&&e.params&&a.push(new r(e.type,e.params.value)),"string"==typeof e.type?a.push(new s(e.name,e.type,e.params.map((function(e){return new i(e.name,e.type,e.value)})))):a.push(s.CreateTypelessComponent(e.name,e.params.map((function(e){return new i(e.name,e.type,e.value)}))))}))}catch(n){return void e.error("Error parsing "+t+": "+n.toString())}e.componentsPromiseResolve(a)}else n.open("GET",t),n.send()}else if(4===n.readyState&&200===n.status){var a;try{o=JSON.parse(n.responseText),a=[],o.components.forEach((function(e){"number"==typeof e.type&&e.params&&a.push(new r(e.type,e.params.value)),"string"==typeof e.type?a.push(new s(e.name,e.type,e.params.map((function(e){return new i(e.name,e.type,e.value)})))):a.push(s.CreateTypelessComponent(e.name,e.params.map((function(e){return new i(e.name,e.type,e.value)}))))}))}catch(n){return void e.error("Error parsing "+t+": "+n.toString())}e.componentsPromiseResolve(a)}else 4===n.readyState&&e.error("Error loading "+t+", httpStatus="+n.status)},n.open("GET",t),n.send()},p}(),window.Loader=window.Loader||new p})();