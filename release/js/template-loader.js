(()=>{"use strict";var e,t,n,o,a,i,s,r,p,c,u={981:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;t.Message=function(e,t,n){this.id=e,this.messageType=t,this.payload=n,this.replyPassThroughData={}}},148:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerCommunicator=void 0;var o=n(981),a=function(e,t,n){this.resolve=e,this.reject=t,this.timeoutId=n},i=function(e,t){this.messageType=e,this.onMessage=t},s=function(){function e(e){this.messageSender=e,this.pendingPromises=new Map,this.subscribers=[],this.messageIdGenerator=1}return e.prototype.sendMessage=function(e,t){var n=this,i=this.messageIdGenerator++;return"REQUEST_ACKNOWLEDGE"===e||"REQUEST_RESPONSE"===e?Promise.resolve():new Promise((function(s,r){var p=setTimeout((function(){return n.processPendingPromise(i,null,"Request timeout")}),5e3);n.pendingPromises.set(i,new a(s,r,p)),n.messageSender(new o.Message(i,e,t))}))},e.prototype.subscribe=function(e,t){var n=this,o=new i(e,t);return this.subscribers.push(o),{unsubscribe:function(){var e=n.subscribers.indexOf(o);-1!==e&&n.subscribers.splice(e,1)}}},e.prototype.onMessageReceived=function(e){"REQUEST_ACKNOWLEDGE"!==e.messageType&&("REQUEST_RESPONSE"!==e.messageType?(this.sendMessage("REQUEST_ACKNOWLEDGE",{requestMessageId:e.id}),this.subscribers.filter((function(t){return t.messageType===e.messageType})).forEach((function(t){t.onMessage(e)}))):this.processPendingPromise(e.payload.requestMessageId,e.payload.response,e.payload.error))},e.prototype.processPendingPromise=function(e,t,n){var o=this.pendingPromises.get(e);o&&(this.pendingPromises.delete(e),clearTimeout(o.timeoutId),n?o.reject(n):o.resolve(t))},e}();t.PlayerCommunicator=s},325:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPlayer=void 0;var n=function(){function e(){}return e.prototype.mediaFinished=function(e){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaFinished",playId:e},"*")},e.prototype.mediaError=function(e,t){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaError",playId:e,message:t},"*")},e.prototype.mediaReady=function(e,t){window.frameElement&&window.parent.postMessage({id:window.frameElement.id,action:"mediaReady",playId:e,started:t},"*")},e.prototype.getParameter=function(e){return null},e.prototype.openMediaInZone=function(e,t,n){},e.prototype.executeCommand=function(e,t,n){},e.prototype.addPlaybackListener=function(e,t){},e}();t.PreviewPlayer=n},281:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemotePlayer=void 0;var n=function(){function e(e){this.sendMessageFunction=e}return e.prototype.executeCommandImpl=function(e,t,n){var o;if("string"==typeof n)try{o=JSON.parse(n)}catch(e){o=n}else o=n;this.sendMessageFunction({playId:e,type:t,params:o})},e.prototype.getParameter=function(e){return null},e.prototype.mediaFinished=function(e){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_FINISHED"})},e.prototype.mediaError=function(e,t){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_ERROR",message:t})},e.prototype.mediaReady=function(e,t){this.executeCommandImpl(e,"PLAYBACK_STATE",{type:"MEDIA_READY"})},e.prototype.openMediaInZone=function(e,t,n){this.executeCommandImpl(e,"MEDIA_PLAY",{mediaId:t,zoneId:n})},e.prototype.executeCommand=function(e,t,n){this.executeCommandImpl(e,t,n)},e.prototype.addPlaybackListener=function(e,t){this.executeCommandImpl(e,"NOTIFICATIONS_REGISTRATION",{notificationType:"MEDIA_PLAYBACK",callbackMethod:t})},e}();t.RemotePlayer=n},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callMethod=function(e,t,n){var o=t.split(".").reduce((function(e,t,n,o){if(!e)return e;if(!e.thisArg)return null;var a=e.thisArg[t];return a?n===o.length-1?"function"==typeof a?{thisArg:e.thisArg,functionObject:a}:null:{thisArg:a,functionObject:null}:null}),{thisArg:e,functionObject:null});if(!o)throw new Error("Method not found: "+t+" in "+e);return o.functionObject.apply(o.thisArg,n)}}},l={};function d(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return u[e](n,n.exports,d),n.exports}e=d(325),t=d(281),n=d(148),o=d(185),a=function(){function e(){}return e.DurationAuto=-1,e}(),i=function(){function e(){}return e.OpenMediaInZone="openMediaInZone",e.PlaybackActionInZone="playbackActionInZone",e.PlaylistDataRequest="playlistDataRequest",e.VotingPlaylistRequest="votingPlaylistRequest",e.RegisterNotifications="registerNotifications",e.CreateCustomZone="createCustomZone",e.DeleteCustomZone="deleteCustomZone",e.ClosePlaybackApp="closePlaybackApp",e.OpenHomeApp="openHomeApp",e.OpenVodApp="openVodApp",e.OpenDiagnosticsApp="openDiagnosticsApp",e.OpenSettingsApp="openSettingsApp",e.OpenApp="openApp",e.SendChannelMessage="sendChannelMessage",e.JoinChannel="joinChannel",e.SendSerialMessage="sendSerialMessage",e.ReceiveSerialMessages="receiveSerialMessages",e.GetNewAnalyticsSessionId="getNewAnalyticsSessionId",e.CreateAnalyticsLog="createAnalyticsLog",e.IsMediaFileAvailable="isMediaFileAvailable",e}(),s=function(e,t,n){this.name=e,this.type=t,this.value=n},r=function(){function e(e,t,n){this.name=e,this.type=t,this.params=n}return e.CreateTypelessComponent=function(e,t){return new this(e,null,t)},e}(),p=function(e,t){this.type=e,this.value=t},c=function(){function c(){var i=this;this.globalCallbackMethodNameCounter=0,this.dataJson=this.getParameterByName("data"),this.playId=parseInt(this.getParameterByName("playId")),this.platformType=this.getParameterByName("platformType"),this.duration=parseInt(this.getParameterByName("duration")),isNaN(this.duration)&&(this.duration=a.DurationAuto);var s=this.getParameterByName("autoPlay");s&&(s=s.toLowerCase()),this.started="false"!==s,window.Player||(window.self!==window.top?(window.addEventListener("message",(function(e){e&&e.data&&e.data.payload&&"MvisionPlayerApi"==e.data.channel&&"ExecuteJavaScript"===e.data.payload.type&&(0,o.callMethod)(window,e.data.payload.method,e.data.payload.params)})),window.Player=new t.RemotePlayer((function(e){window.parent.postMessage({channel:"MvisionPlayerApi",payload:e},"*")}))):(window.Player=new e.PreviewPlayer,window.addEventListener("message",(function(e){e&&e.data&&e.data.action&&"play"===e.data.action&&i.play()}))));var r=new n.PlayerCommunicator((function(e){return i.executeCommand("COMMUNICATOR_MESSAGE",e)}));window.messageFromPlayer=function(e){r.onMessageReceived(e)},this.communicator=r,this.startPromise=new Promise((function(e,t){i.startPromiseResolve=e})),this.started&&this.startPromiseResolve(),this.componentsPromise=new Promise((function(e,t){i.componentsPromiseResolve=e})),this.getDataJson()}return c.prototype.getNextGlobalCallbackMethodName=function(){return this.globalCallbackMethodNameCounter=this.globalCallbackMethodNameCounter+1,"mvisionGlobalCallbackMethodName"+this.globalCallbackMethodNameCounter},c.prototype.setComponents=function(e){var t=this;this.componentsPromise=new Promise((function(n,o){t.componentsPromiseResolve=n,t.componentsPromiseResolve(e)}))},c.prototype.getComponents=function(){return this.componentsPromise},c.prototype.getCommunicator=function(){return this.communicator},c.prototype.isStarted=function(){return this.startPromise},c.prototype.getPlatformType=function(){return this.platformType},c.prototype.getDuration=function(){return this.duration},c.prototype.ifDurationNotSetEndIn=function(e){this.duration==a.DurationAuto&&setTimeout(this.finished,1e3*e)},c.prototype.ready=function(){window.Player.mediaReady(this.playId,this.started)},c.prototype.error=function(e){e||(e="Unspecified error."),window.Player.mediaError(this.playId,e)},c.prototype.finished=function(){window.Player.mediaFinished(this.playId)},c.prototype.getPlayerParameter=function(e){try{return window.Player.getParameter(e)}catch(e){}return null},c.prototype.getPlayerParameters=function(e){return this.executeCommandReturnPromise("GET_SITE_PARAMETERS",{keys:e})},c.prototype.openMediaInZone=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=null);try{n||o?this.executeCommand(i.OpenMediaInZone,{mediaId:e,zoneId:t,loop:n,startMode:o}):window.Player.openMediaInZone(this.playId,e,t)}catch(e){}},c.prototype.stopPlaybackInZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"STOP",zoneId:e})},c.prototype.resumeLoopPlaybackInZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"RESUME_LOOP_PLAYBACK",zoneId:e})},c.prototype.clearPendingEventsInZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"CLEAR_PENDING_EVENTS",zoneId:e})},c.prototype.playNextInZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"PLAY_NEXT",zoneId:e})},c.prototype.createCustomZone=function(e,t,n,o,a,s,r,p){void 0===r&&(r=!1),void 0===p&&(p=null),this.executeCommand(i.CreateCustomZone,{zoneName:e,coordinates:{left:t,top:n,width:o,height:a},behind:r,persistent:s,loopingPlaylistItemId:p})},c.prototype.deleteCustomZone=function(e){this.executeCommand(i.DeleteCustomZone,{zoneName:e})},c.prototype.openMediaInCustomZone=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=null),this.executeCommand(i.OpenMediaInZone,{mediaId:e,zoneName:t,loop:n,startMode:o})},c.prototype.stopPlaybackInCustomZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"STOP",zoneName:e})},c.prototype.resumeLoopPlaybackInCustomZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"RESUME_LOOP_PLAYBACK",zoneName:e})},c.prototype.clearPendingEventsInCustomZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"CLEAR_PENDING_EVENTS",zoneName:e})},c.prototype.playNextInCustomZone=function(e){this.executeCommand(i.PlaybackActionInZone,{type:"PLAY_NEXT",zoneName:e})},c.prototype.closePlaybackApp=function(){this.executeCommand(i.ClosePlaybackApp,{})},c.prototype.openHomeApp=function(){this.executeCommand(i.OpenHomeApp,{})},c.prototype.openVodApp=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.executeCommand(i.OpenVodApp,{initialFolderIdentifier:e,allowUpNavigationFromInitialFolder:t})},c.prototype.openDiagnosticsApp=function(){this.executeCommand(i.OpenDiagnosticsApp,{})},c.prototype.openSettingsApp=function(e){void 0===e&&(e={}),this.executeCommand(i.OpenSettingsApp,e)},c.prototype.openApp=function(e){this.executeCommand(i.OpenApp,{appId:e})},c.prototype.getMusicStreamTracks=function(e){this.executeCommand(i.PlaylistDataRequest,{dataType:"MUSIC_TRACKS_LIST",responseCallbackMethod:e.name})},c.prototype.getActiveMusicPlaylistDataAndTracks=function(e){this.executeCommand(i.PlaylistDataRequest,{dataType:"ACTIVE_MUSIC_PLAYLIST_DATA_AND_TRACKS",responseCallbackMethod:e.name})},c.prototype.getActiveMusicPlaylistData=function(e){this.executeCommand(i.PlaylistDataRequest,{dataType:"ACTIVE_MUSIC_PLAYLIST_DATA",responseCallbackMethod:e.name})},c.prototype.getPlaylistContainerItems=function(e,t){this.executeCommand(i.PlaylistDataRequest,{dataType:"PLAYLIST_CONTAINER_ITEMS",referenceItem:e,responseCallbackMethod:t.name})},c.prototype.voteMusicTrack=function(e){this.executeCommand(i.VotingPlaylistRequest,{action:"VOTE",referenceItem:e})},c.prototype.getVotedTracks=function(e){this.executeCommand(i.VotingPlaylistRequest,{action:"GET_VOTED_ITEMS",responseCallbackMethod:e.name})},c.prototype.addPlaybackListener=function(e){try{window.Player.addPlaybackListener(this.playId,e.name)}catch(e){console.log("Error while calling Player method: "+e)}},c.prototype.addPlaylistUpdateListener=function(e){this.executeCommand(i.RegisterNotifications,{notificationType:"PLAYBACK_STREAM_UPDATED",callbackMethod:e.name})},c.prototype.addActiveMusicPlaylistChangeListener=function(e){this.executeCommand(i.RegisterNotifications,{notificationType:"ACTIVE_MUSIC_PLAYLIST_CHANGED",callbackMethod:e.name})},c.prototype.sendChannelMessage=function(e,t,n){this.executeCommand(i.SendChannelMessage,{clientId:e,channelName:t,payload:n})},c.prototype.joinChannel=function(e,t,n){this.executeCommand(i.JoinChannel,{clientId:e,channelName:t,callbackMethod:n.name})},c.prototype.sendSerialMessageToConnectedDevice=function(e,t,n,o){return void 0===o&&(o=!1),this.sendSerialMessageToTargetDevice(null,e,t,n,o)},c.prototype.sendSerialMessageToTargetDevice=function(e,t,n,o,a){return void 0===a&&(a=!1),this.executeCommandReturnPromise(i.SendSerialMessage,{serialMessageRequest:{targetProductId:e,baudRate:t,dataType:n,data:o,ignoreResponse:a}})},c.prototype.receiveSerialMessagesFromConnectedDevice=function(e,t,n,o,a){this.receiveSerialMessagesFromTargetDevice(null,e,t,n,o,a)},c.prototype.receiveSerialMessagesFromTargetDevice=function(e,t,n,o,a,s){this.executeCommand(i.ReceiveSerialMessages,{serialMessageRequest:{targetProductId:e,baudRate:t,dataType:n},retryOnError:o,callbackMethod:a.name,errorCallbackMethod:s.name})},c.prototype.getNewAnalyticsSessionId=function(){return this.executeCommand(i.GetNewAnalyticsSessionId,null)},c.prototype.getNewAnalyticsSessionIdPromise=function(){return this.executeCommandReturnPromise("GET_NEW_ANALYTICS_SESSION_ID_PROMISE",{})},c.prototype.createAnalyticsEvent=function(e,t,n){this.executeCommand(i.CreateAnalyticsLog,{userTriggered:e,sessionId:t,customParameters:n})},c.prototype.isMediaFileAvailable=function(e){return"true"==this.executeCommand(i.IsMediaFileAvailable,e)},c.prototype.areMediaFilesAvailable=function(e){return this.executeCommandReturnPromise("ARE_MEDIA_FILES_AVAILABLE",{mediaIds:e})},c.prototype.sendDatagramMessage=function(e,t,n,o){return this.executeCommandReturnPromise("DATAGRAM_SEND",{targetAddress:e,port:t,dataType:n,message:o})},c.prototype.receiveDatagramMessages=function(e,t,n,o,a){this.executeCommand("DATAGRAM_RECEIVE",{multicastAddress:e,port:t,dataType:n,callbackMethod:o.name,errorCallbackMethod:a.name})},c.prototype.setPlaylistItemsSchedules=function(e){this.executeCommand("SET_PLAYLIST_ITEMS_SCHEDULES",e)},c.prototype.executeCommand=function(e,t){try{return window.Player.executeCommand(this.playId,e,JSON.stringify(t))}catch(e){return console.log("Error while calling Player method: "+e),null}},c.prototype.executeCommandReturnPromise=function(e,t){var n=this.getNextGlobalCallbackMethodName(),o=this.getNextGlobalCallbackMethodName(),a=this.playId;return new Promise((function(i,s){var r=function(){delete window[n],delete window[o]};window[n]=function(e){r(),i(e)},window[o]=function(e){r(),s(new Error(e))},t.callbackMethod=n,t.errorCallbackMethod=o;try{window.Player.executeCommand(a,e,JSON.stringify(t))}catch(e){r(),s(e)}}))},c.prototype.play=function(){this.started||(this.started=!0,this.startPromiseResolve())},c.prototype.getParameterByName=function(e,t){void 0===t&&(t=window.location.href),t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},c.prototype.getDataJson=function(){var e=this,t=this.dataJson;t||(t="mframe.json?timestamp="+(new Date).getTime());var n=new XMLHttpRequest;n.onreadystatechange=function(){if("tizen"===e.platformType){if(4===n.readyState&&(200===n.status||0===n.status))if(null!==n.responseText){var o=[];try{JSON.parse(n.responseText).components.forEach((function(e){"number"==typeof e.type&&e.params&&o.push(new p(e.type,e.params.value)),"string"==typeof e.type?o.push(new r(e.name,e.type,e.params.map((function(e){return new s(e.name,e.type,e.value)})))):o.push(r.CreateTypelessComponent(e.name,e.params.map((function(e){return new s(e.name,e.type,e.value)}))))}))}catch(n){return void e.error("Error parsing "+t+": "+n.toString())}e.componentsPromiseResolve(o)}else n.open("GET",t),n.send()}else if(4===n.readyState&&200===n.status){var a=[];try{JSON.parse(n.responseText).components.forEach((function(e){"number"==typeof e.type&&e.params&&a.push(new p(e.type,e.params.value)),"string"==typeof e.type?a.push(new r(e.name,e.type,e.params.map((function(e){return new s(e.name,e.type,e.value)})))):a.push(r.CreateTypelessComponent(e.name,e.params.map((function(e){return new s(e.name,e.type,e.value)}))))}))}catch(n){return void e.error("Error parsing "+t+": "+n.toString())}e.componentsPromiseResolve(a)}else 4===n.readyState&&e.error("Error loading "+t+", httpStatus="+n.status)},n.open("GET",t),n.send()},c}(),window.Loader=window.Loader||new c})();